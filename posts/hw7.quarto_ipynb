{
  "cells": [
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "---\n",
        "title: \"hw7\"\n",
        "format: html\n",
        "jupyter: python3\n",
        "---"
      ],
      "id": "d03df252"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "import numpy as np \n",
        "import pandas as pd \n",
        "import matplotlib.pyplot as plt\n",
        "from scipy.stats import norm"
      ],
      "id": "04f5e7f9",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "### ADP í‘œë³¸ì ìˆ˜\n",
        "# 2022ë…„ì— ì‹¤ì‹œ ëœ ADP ì‹¤ê¸° ì‹œí—˜ì˜ í†µê³„íŒŒíŠ¸ í‘œì¤€ì ìˆ˜ëŠ” í‰ê· ì´ 30, í‘œì¤€í¸ì°¨ê°€ 5ì¸ ì •ê·œë¶„í¬ë¥¼ ë”°ë¥¸ë‹¤ê³  í•œë‹¤.\n",
        "\n",
        "# 1) ADP ì‹¤ê¸° ì‹œí—˜ì˜ í†µê³„íŒŒíŠ¸ í‘œì¤€ì ìˆ˜ì˜ ë°€ë„í•¨ìˆ˜ë¥¼ ê·¸ë ¤ë³´ì„¸ìš”."
      ],
      "id": "f2167f46"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "x = np.arange(15, 45, 0.1)\n",
        "y = norm.pdf(x, loc=30,scale=5)\n",
        "plt.plot(x, y, color='k')\n",
        "plt.show()"
      ],
      "id": "c973dd82",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# 2) ADP ìˆ˜í—˜ìƒì„ ì„ì˜ë¡œ 1ëª…ì„ ì„ íƒí•˜ì—¬ í†µê³„ ì ìˆ˜ë¥¼ ì¡°íšŒí–ˆì„ë•Œ 45ì  ë³´ë‹¤ ë†’ì€ ì ìˆ˜ë¥¼ ë°›ì•˜ì„ í™•ë¥ ì„ êµ¬í•˜ì„¸ìš”."
      ],
      "id": "78a87943"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "1 - norm.cdf(45, 30, 5)"
      ],
      "id": "9d5dcc39",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# 3) ìŠ¬í†µì´ëŠ” ìƒìœ„ 10%ì— í•´ë‹¹í•˜ëŠ” ì ìˆ˜ë¥¼ ì–»ì—ˆë‹¤ê³  í•œë‹¤ë©´, ìŠ¬í†µì´ì˜ ì ìˆ˜ëŠ” ì–¼ë§ˆì¸ì§€ ê³„ì‚°í•´ë³´ì„¸ìš”."
      ],
      "id": "d04a9671"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "norm.ppf(0.90, loc=30, scale=5)"
      ],
      "id": "6bad6bc0",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# 4) ìŠ¬ê¸°ë¡œìš´ í†µê³„ìƒí™œì˜ í•´ë‹¹ íšŒì°¨ ìˆ˜ê°•ìƒì€ 16ëª…ì´ì—ˆë‹¤ê³  í•œë‹¤. 16ëª…ì˜ í†µê³„ íŒŒíŠ¸ ì ìˆ˜ë¥¼ í‰ê· ë‚´ì—ˆì„ ë•Œ, ì´ í‰ê· ê°’ì´ ë”°ë¥´ëŠ” ë¶„í¬ì˜ í™•ë¥ ë°€ë„ í•¨ìˆ˜ë¥¼ 1ë²ˆì˜ ê·¸ë˜í”„ì™€ ê²¹ì³ ê·¸ë ¤ë³´ì„¸ìš”."
      ],
      "id": "44cdec52"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "x = np.arange(15, 45, 0.1)\n",
        "y = norm.pdf(x, loc=30,scale=5)\n",
        "plt.plot(x, y, color='k') # 1ë²ˆ ê·¸ë˜í”„\n",
        "\n",
        "y_2 = norm.pdf(x, loc=30,scale=5/np.sqrt(16))\n",
        "plt.plot(x, y_2, color='red')\n",
        "plt.show()"
      ],
      "id": "1a52996b",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# 5) ìŠ¬ê¸°ë¡œìš´ í†µê³„ìƒí™œ ADP ë°˜ ìˆ˜ê°•ìƒë“¤ì˜ í†µê³„ì ìˆ˜ë¥¼ í‰ê· ë‚´ì—ˆë‹¤ê³  í•  ë•Œ, ì´ ê°’ì´ 38ì ë³´ë‹¤ ë†’ê²Œ ë‚˜ì˜¬ í™•ë¥ ì„ êµ¬í•˜ì„¸ìš”."
      ],
      "id": "3ba6592f"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "1 - norm.cdf(38, loc=30, scale=5/np.sqrt(16))"
      ],
      "id": "c8afba9f",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Covid 19 ë°œë³‘ë¥ \n",
        "# Covidâ€‘19ì˜ ë°œë³‘ë¥ ì€ 1%ë¼ê³  í•œë‹¤. ë‹¤ìŒì€ ì´ë²ˆ ì½”ë¡œë‚˜ ì‚¬íƒœë¡œ ì¸í•˜ì—¬ ì½”ë¡œë‚˜ ì˜ì‹¬ í™˜ìë“¤ 1,085ëª…ì„ ëŒ€ìƒìœ¼ë¡œ ìŠ¬í†µ íšŒì‚¬ì˜ â€œë‹¤ì¡ì•„â€ í‚¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì–‘ì„± ë°˜ì‘ì„ ì²´í¬í•œ ê²°ê³¼ì´ë‹¤."
      ],
      "id": "1a0fa88d"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "TP = 370  \n",
        "FN = 15   \n",
        "FP = 10   \n",
        "TN = 690  "
      ],
      "id": "2ae46d96",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# 1) ë‹¤ì¡ì•„ í‚¤íŠ¸ê°€ ì½”ë¡œë‚˜ ë°”ì´ëŸ¬ìŠ¤ì— ê±¸ë¦° ì‚¬ëŒì„ ì–‘ì„±ìœ¼ë¡œ ì¡ì•„ë‚¼ í™•ë¥ ì„ ê³„ì‚°í•˜ì„¸ìš”."
      ],
      "id": "4081b1d0"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "TP / (TP+FN)"
      ],
      "id": "42885dae",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# 2) ìŠ¬í†µ íšŒì‚¬ì—ì„œ ë‹¤ì¡ì•„ í‚¤íŠ¸ë¥¼ ì‚¬ìš©í•´ ì–‘ì„±ìœ¼ë¡œ ë‚˜ì˜¨ ì‚¬ëŒì´ ì‹¤ì œë¡œëŠ” ì½”ë¡œë‚˜ ë°”ì´ëŸ¬ìŠ¤ì— ê±¸ë ¤ìˆì„ í™•ë¥ ì„ 97%ë¼ë©°, í‚¤íŠ¸ì˜ ìš°ìˆ˜ì„±ì„ ì£¼ì¥í–ˆë‹¤. ì´ ì£¼ì¥ì´ ì˜³ì§€ ì•Šì€ ì´ìœ ë¥¼ ì„œìˆ í•˜ì„¸ìš”.\n",
        "í‘œë³¸ì—ì„œì˜ ê²°ê³¼ëŠ” ëª¨ì§‘ë‹¨ê³¼ ì°¨ì´ê°€ ìˆê¸° ë•Œë¬¸ì´ë‹¤.\n",
        "\n",
        "# 3) Covidâ€‘19 ë°œë³‘ë¥ ì„ ì‚¬ìš©í•˜ì—¬, í‚¤íŠ¸ì˜ ê²°ê³¼ê°’ì´ ì–‘ì„±ìœ¼ë¡œ ë‚˜ì˜¨ ì‚¬ëŒì´ ì‹¤ì œë¡œ ì½”ë¡œë‚˜ ë°”ì´ëŸ¬ìŠ¤ì— ê±¸ë ¤ìˆì„ í™•ë¥ ì„ êµ¬í•˜ì„¸ìš”."
      ],
      "id": "c0c73085"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "(TP/(TP+FN) * 0.01) / (0.01 * (TP/(TP+FN)) + 0.99 * (FP/(FP+TN)))"
      ],
      "id": "34df44ab",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## ì¹´ì´ì œê³±ë¶„í¬ì™€ í‘œë³¸ë¶„\n",
        "# ììœ ë„ê°€ ğ‘˜ì¸ ì¹´ì´ì œê³±ë¶„í¬ë¥¼ ë”°ë¥´ëŠ” í™•ë¥ ë³€ìˆ˜ ğ‘‹ë¥¼ ğ‘‹ âˆ¼ ğœ’2(ğ‘˜)ê³¼ ê°™ì´ ë‚˜íƒ€ë‚´ê³ , ì´ í™•ë¥ ë³€ìˆ˜ì˜ í™•ë¥ ë°€ë„í•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤"
      ],
      "id": "0e5e602a"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "from scipy.stats import chi2"
      ],
      "id": "2a3bbc28",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# 1) ììœ ë„ê°€ 4ì¸ ì¹´ì´ì œê³±ë¶„í¬ì˜ í™•ë¥ ë°€ë„í•¨ìˆ˜ë¥¼ ê·¸ë ¤ë³´ì„¸ìš”."
      ],
      "id": "15e9d828"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "x = np.linspace(0, 20, 1000)\n",
        "pdf = chi2.pdf(x, 4)\n",
        "plt.plot(x, pdf)"
      ],
      "id": "bd907a84",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# 2) ë‹¤ìŒì˜ í™•ë¥ ì„ êµ¬í•´ë³´ì„¸ìš”. ğ‘ƒ (3 â‰¤ ğ‘‹ â‰¤ 5)"
      ],
      "id": "25380d0a"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "chi2.cdf(5, 4) - chi2.cdf(3, 4)"
      ],
      "id": "2a2f157d",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# 3) ììœ ë„ê°€ 4ì¸ ì¹´ì´ì œê³±ë¶„í¬ì—ì„œ í¬ê¸°ê°€ 1000ì¸ í‘œë³¸ì„ ë½‘ì€ í›„, íˆìŠ¤í† ê·¸ë¨ì„ ê·¸ë ¤ë³´ì„¸ìš”."
      ],
      "id": "8f80b7dc"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "np.random.seed(2024)\n",
        "sample_data = chi2.rvs(4, size=1000)\n",
        "\n",
        "plt.hist(sample_data, bins=50, density=True, edgecolor=\"black\")"
      ],
      "id": "8e58d038",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# 4) ììœ ë„ê°€ 4ì¸ ì¹´ì´ì œê³±ë¶„í¬ë¥¼ ë”°ë¥´ëŠ” í™•ë¥ ë³€ìˆ˜ì—ì„œ ë‚˜ì˜¬ ìˆ˜ ìˆëŠ” ê°’ ì¤‘ ìƒìœ„ 5%ì— í•´ë‹¹í•˜ëŠ” ê°’ì€ ì–¼ë§ˆì¸ì§€ ê³„ì‚°í•´ë³´ì„¸ìš”."
      ],
      "id": "f5b2d08e"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "chi2.ppf(0.95, 4)"
      ],
      "id": "917dc5bf",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# 5) 3ë²ˆì—ì„œ ë½‘íŒ í‘œë³¸ê°’ë“¤ ì¤‘ ìƒìœ„ 5%ì— ìœ„ì¹˜í•œ í‘œë³¸ì˜ ê°’ì€ ì–¼ë§ˆì¸ê°€ìš”?"
      ],
      "id": "a8d79f03"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "np.percentile(sample_data, 95)"
      ],
      "id": "44010344",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "# 6) í‰ê· ì´ 3, í‘œì¤€í¸ì°¨ê°€ 2ì¸ ì •ê·œë¶„í¬ë¥¼ ë”°ë¥´ëŠ” í™•ë¥ ë³€ìˆ˜ì—ì„œ í¬ê¸°ê°€ 20ì¸ í‘œë³¸ ğ‘¥1, ..., ğ‘¥20,ì„ ë½‘ì€ í›„ í‘œë³¸ë¶„ì‚°ì„ ê³„ì‚°í•œ ê²ƒì„ ğ‘ 2/1ì´ë¼ ìƒê°í•´ë³´ì£ . ë‹¤ìŒì„ ìˆ˜í–‰í•´ë³´ì„¸ìš”!"
      ],
      "id": "5b90d140"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "np.random.seed(2024)\n",
        "n = 20\n",
        "var_samples = []\n",
        "\n",
        "for i in range(500):\n",
        "    x = norm.rvs(3, 2, size=n)\n",
        "    var_samples.append(np.var(x, ddof=1))\n",
        "    \n",
        "scaled_var_samples = np.array(var_samples) * 4.75\n",
        "\n",
        "plt.hist(scaled_var_samples,\n",
        "         bins=50,\n",
        "         density=True,\n",
        "         edgecolor=\"black\")\n",
        "\n",
        "plt.xlabel(\"4.75 * s^2\")\n",
        "plt.ylabel(\"density\")\n",
        "\n",
        "x = np.linspace(0, max(scaled_var_samples), 1000)\n",
        "pdf_chi19 = chi2.pdf(x, df=19)\n",
        "plt.plot(x, pdf_chi19, 'r--', linewidth=2);\n",
        "plt.legend([\"histogram\", \"df 19 chisquare dist\"], loc=\"upper right\");\n",
        "plt.show()"
      ],
      "id": "679a2df3",
      "execution_count": null,
      "outputs": []
    }
  ],
  "metadata": {
    "kernelspec": {
      "name": "python3",
      "language": "python",
      "display_name": "Python 3 (ipykernel)",
      "path": "C:\\Users\\USER\\AppData\\Roaming\\Python\\share\\jupyter\\kernels\\python3"
    }
  },
  "nbformat": 4,
  "nbformat_minor": 5
}